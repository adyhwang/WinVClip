<Window x:Class="WinVClip.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="设置" Height="620" Width="750"
        WindowStartupLocation="CenterScreen" ResizeMode="NoResize"  WindowStyle="None" 
        Style="{DynamicResource SettingsWindowStyle}"
        MouseDown="Window_MouseDown">
    
    <Border Background="{DynamicResource WindowBackground}" CornerRadius="8">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- 标题栏 -->
            <Border Grid.Row="0" Background="{DynamicResource HeaderBackground}" 
                    BorderBrush="{DynamicResource BorderBrush}" BorderThickness="0,0,0,1"
                    CornerRadius="8,8,0,0" Padding="20,16">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <StackPanel Grid.Column="0" Orientation="Horizontal">
                        <TextBlock Text="&#xE713;" FontFamily="Segoe MDL2 Assets" FontSize="20" 
                                   Foreground="{DynamicResource AccentColor}" Margin="0,0,12,0" VerticalAlignment="Center"/>
                        <TextBlock Text="设置" FontSize="20" FontWeight="SemiBold" 
                                   Foreground="{DynamicResource TextForeground}" VerticalAlignment="Center"/>
                    </StackPanel>
                    <Button Grid.Column="1" Content="&#xE711;" FontFamily="Segoe MDL2 Assets" 
                            Style="{DynamicResource IconButtonStyle}" FontSize="16"
                            Click="CancelButton_Click" ToolTip="关闭"/>
                </Grid>
            </Border>

            <!-- 主内容区 -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="220"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- 左侧导航 -->
                <Border Grid.Column="0" Background="{DynamicResource SidebarBackground}" 
                        BorderBrush="{DynamicResource BorderBrush}" BorderThickness="0,0,1,0">
                    <StackPanel Margin="12,16">
                        <RadioButton x:Name="NavGeneral" Content="常规" GroupName="SettingsNav"
                                     Style="{DynamicResource NavRadioButtonStyle}" IsChecked="True"
                                     Tag="General" Checked="NavRadioButton_Checked"/>
                        <RadioButton x:Name="NavCapture" Content="捕获设置" GroupName="SettingsNav"
                                     Style="{DynamicResource NavRadioButtonStyle}"
                                     Tag="Capture" Checked="NavRadioButton_Checked"/>
                        <RadioButton x:Name="NavHistory" Content="历史记录" GroupName="SettingsNav"
                                     Style="{DynamicResource NavRadioButtonStyle}"
                                     Tag="History" Checked="NavRadioButton_Checked"/>
                        <RadioButton x:Name="NavStorage" Content="存储与备份" GroupName="SettingsNav"
                                     Style="{DynamicResource NavRadioButtonStyle}"
                                     Tag="Storage" Checked="NavRadioButton_Checked"/>
                        <RadioButton x:Name="NavSearch" Content="搜索引擎" GroupName="SettingsNav"
                                     Style="{DynamicResource NavRadioButtonStyle}"
                                     Tag="Search" Checked="NavRadioButton_Checked"/>
                        <RadioButton x:Name="NavSystem" Content="系统设置" GroupName="SettingsNav"
                                     Style="{DynamicResource NavRadioButtonStyle}"
                                     Tag="System" Checked="NavRadioButton_Checked"/>
                    </StackPanel>
                </Border>

                <!-- 右侧内容 -->
                <ScrollViewer Grid.Column="1" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled"
                              Margin="24,20" Background="{DynamicResource WindowBackground}">
                    <ScrollViewer.Resources>
                        <Style TargetType="ScrollBar" BasedOn="{StaticResource ScrollBarStyle}"/>
                    </ScrollViewer.Resources>
                    
                    <StackPanel x:Name="ContentPanel">
                        <!-- 常规设置 -->
                        <StackPanel x:Name="PanelGeneral">
                            <TextBlock Text="常规" FontSize="24" FontWeight="SemiBold" 
                                       Foreground="{DynamicResource TextForeground}" Margin="0,0,0,20"/>
                            
                            <!-- 快捷键卡片 -->
                            <Border Style="{DynamicResource SettingCardStyle}" Margin="0,0,0,16">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                        <TextBlock Text="&#xE765;" FontFamily="Segoe MDL2 Assets" FontSize="18" 
                                                   Foreground="{DynamicResource AccentColor}" Margin="0,0,10,0"/>
                                        <TextBlock Text="快捷键" FontSize="16" FontWeight="SemiBold" 
                                                   Foreground="{DynamicResource TextForeground}"/>
                                    </StackPanel>
                                    
                                    <TextBlock Text="显示/隐藏主界面" Foreground="{DynamicResource SecondaryTextForeground}" 
                                               FontSize="13" Margin="0,0,0,8"/>
                                    <Border Background="{DynamicResource InputBackground}" 
                                            BorderBrush="{DynamicResource InputBorderBrush}" BorderThickness="1"
                                            CornerRadius="6" Padding="12,10" Margin="0,0,0,12">
                                        <Grid>
                                            <TextBox x:Name="HotkeyTextBox" 
                                                     Text="{Binding Hotkey, Mode=OneWay}"
                                                     IsReadOnly="True"
                                                     GotFocus="HotkeyTextBox_GotFocus"
                                                     LostFocus="HotkeyTextBox_LostFocus"
                                                     PreviewKeyDown="HotkeyTextBox_PreviewKeyDown"
                                                     Background="Transparent"
                                                     BorderThickness="0"
                                                     Foreground="{DynamicResource TextForeground}"
                                                     FontSize="14" FontWeight="SemiBold"/>
                                            <TextBlock Text="点击输入快捷键" Foreground="{DynamicResource SecondaryTextForeground}"
                                                       FontSize="13" VerticalAlignment="Center" IsHitTestVisible="False">
                                                <TextBlock.Style>
                                                    <Style TargetType="TextBlock">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding ElementName=HotkeyTextBox, Path=Text}" Value="">
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBlock.Style>
                                            </TextBlock>
                                        </Grid>
                                    </Border>
                                    
                                    <TextBlock Text="常用快捷键" Foreground="{DynamicResource SecondaryTextForeground}" 
                                               FontSize="12" Margin="0,0,0,8"/>
                                    <WrapPanel Margin="0,0,0,8">
                                        <Button Content="Win+V" Margin="0,0,8,6" Padding="12,6" 
                                                Style="{DynamicResource TagButtonStyle}"
                                                Click="QuickHotkeyButton_Click" Tag="Win+V"/>
                                        <Button Content="Ctrl+Shift+V" Margin="0,0,8,6" Padding="12,6" 
                                                Style="{DynamicResource TagButtonStyle}"
                                                Click="QuickHotkeyButton_Click" Tag="Ctrl+Shift+V"/>
                                        <Button Content="Shift+Space" Margin="0,0,8,6" Padding="12,6" 
                                                Style="{DynamicResource TagButtonStyle}"
                                                Click="QuickHotkeyButton_Click" Tag="Shift+Space"/>
                                        <Button Content="F1" Margin="0,0,8,6" Padding="12,6" 
                                                Style="{DynamicResource TagButtonStyle}"
                                                Click="QuickHotkeyButton_Click" Tag="F1"/>
                                        <Button Content="F2" Margin="0,0,8,6" Padding="12,6" 
                                                Style="{DynamicResource TagButtonStyle}"
                                                Click="QuickHotkeyButton_Click" Tag="F2"/>
                                    </WrapPanel>
                                    <Button Content="还原系统 Win+V" Padding="12,6" 
                                            Style="{DynamicResource LinkButtonStyle}" HorizontalAlignment="Left"
                                            Click="RestoreSystemWinV_Click"/>
                                </StackPanel>
                            </Border>

                            <!-- 主题设置卡片 -->
                            <Border Style="{DynamicResource SettingCardStyle}">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                        <TextBlock Text="&#xE790;" FontFamily="Segoe MDL2 Assets" FontSize="18" 
                                                   Foreground="{DynamicResource AccentColor}" Margin="0,0,10,0"/>
                                        <TextBlock Text="外观" FontSize="16" FontWeight="SemiBold" 
                                                   Foreground="{DynamicResource TextForeground}"/>
                                    </StackPanel>
                                    
                                    <TextBlock Text="主题模式" Foreground="{DynamicResource SecondaryTextForeground}" 
                                               FontSize="13" Margin="0,0,0,8"/>
                                    <ComboBox SelectedValue="{Binding Theme}" SelectedValuePath="Tag" 
                                              Style="{DynamicResource ModernComboBoxStyle}" Width="200" HorizontalAlignment="Left">
                                        <ComboBoxItem Content="跟随系统" Tag="Auto"/>
                                        <ComboBoxItem Content="浅色模式" Tag="Light"/>
                                        <ComboBoxItem Content="深色模式" Tag="Dark"/>
                                    </ComboBox>
                                </StackPanel>
                            </Border>
                        </StackPanel>

                        <!-- 捕获设置 -->
                        <StackPanel x:Name="PanelCapture" Visibility="Collapsed">
                            <TextBlock Text="捕获设置" FontSize="24" FontWeight="SemiBold" 
                                       Foreground="{DynamicResource TextForeground}" Margin="0,0,0,20"/>
                            
                            <Border Style="{DynamicResource SettingCardStyle}">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                        <TextBlock Text="&#xE7C3;" FontFamily="Segoe MDL2 Assets" FontSize="18" 
                                                   Foreground="{DynamicResource AccentColor}" Margin="0,0,10,0"/>
                                        <TextBlock Text="剪贴板捕获" FontSize="16" FontWeight="SemiBold" 
                                                   Foreground="{DynamicResource TextForeground}"/>
                                    </StackPanel>
                                    
                                    <CheckBox Content="捕获图片" IsChecked="{Binding CaptureImages}" 
                                              Style="{DynamicResource ModernCheckBoxStyle}" Margin="0,0,0,12"/>
                                    <TextBlock Text="自动保存剪贴板中的图片内容" Foreground="{DynamicResource SecondaryTextForeground}" 
                                               FontSize="12" Margin="28,-8,0,16"/>
                                    
                                    <CheckBox Content="捕获文件路径" IsChecked="{Binding CaptureFiles}" 
                                              Style="{DynamicResource ModernCheckBoxStyle}" Margin="0,0,0,12"/>
                                    <TextBlock Text="记录复制的文件和文件夹路径" Foreground="{DynamicResource SecondaryTextForeground}" 
                                               FontSize="12" Margin="28,-8,0,16"/>
                                    
                                    <CheckBox Content="自动删除重复内容" IsChecked="{Binding RemoveDuplicates}" 
                                              Style="{DynamicResource ModernCheckBoxStyle}" Margin="0,0,0,12"/>
                                    <TextBlock Text="检测到重复内容时自动删除旧记录" Foreground="{DynamicResource SecondaryTextForeground}" 
                                               FontSize="12" Margin="28,-8,0,0"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>

                        <!-- 历史记录设置 -->
                        <StackPanel x:Name="PanelHistory" Visibility="Collapsed">
                            <TextBlock Text="历史记录" FontSize="24" FontWeight="SemiBold" 
                                       Foreground="{DynamicResource TextForeground}" Margin="0,0,0,20"/>
                            
                            <Border Style="{DynamicResource SettingCardStyle}">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                        <TextBlock Text="&#xE81C;" FontFamily="Segoe MDL2 Assets" FontSize="18" 
                                                   Foreground="{DynamicResource AccentColor}" Margin="0,0,10,0"/>
                                        <TextBlock Text="历史记录管理" FontSize="16" FontWeight="SemiBold" 
                                                   Foreground="{DynamicResource TextForeground}"/>
                                    </StackPanel>
                                    
                                    <Border Background="{DynamicResource InfoBackground}" 
                                            BorderBrush="{DynamicResource InfoBorderBrush}" BorderThickness="1"
                                            CornerRadius="6" Padding="12,10" Margin="0,0,0,16">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="&#xE946;" FontFamily="Segoe MDL2 Assets" FontSize="16" 
                                                       Foreground="{DynamicResource InfoForeground}" Margin="0,0,8,0"/>
                                            <TextBlock Text="自动清理不会删除已分组的历史记录" Foreground="{DynamicResource InfoForeground}" 
                                                       FontSize="12" TextWrapping="Wrap"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <CheckBox Content="启用自动清理" IsChecked="{Binding EnableAutoCleanup}" 
                                              Style="{DynamicResource ModernCheckBoxStyle}" Margin="0,0,0,16"/>
                                    
                                    <Grid IsEnabled="{Binding EnableAutoCleanup}" Opacity="{Binding EnableAutoCleanup, Converter={StaticResource BoolToOpacityConverter}}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        
                                        <StackPanel Grid.Row="0" Margin="0,0,0,16">
                                            <TextBlock Text="保留天数" Foreground="{DynamicResource SecondaryTextForeground}" 
                                                       FontSize="13" Margin="0,0,0,8"/>
                                            <ComboBox SelectedValue="{Binding RetentionDays}" SelectedValuePath="Tag" 
                                                      Style="{DynamicResource ModernComboBoxStyle}" Width="200" HorizontalAlignment="Left">
                                                <ComboBoxItem Content="7天" Tag="7"/>
                                                <ComboBoxItem Content="30天" Tag="30"/>
                                                <ComboBoxItem Content="90天" Tag="90"/>
                                                <ComboBoxItem Content="永久保留" Tag="0"/>
                                            </ComboBox>
                                            <TextBlock Text="超过设定天数的历史记录将被自动删除" Foreground="{DynamicResource TertiaryTextForeground}" 
                                                       FontSize="11" Margin="0,4,0,0"/>
                                        </StackPanel>
                                        
                                        <StackPanel Grid.Row="1">
                                            <TextBlock Text="最大记录数" Foreground="{DynamicResource SecondaryTextForeground}" 
                                                       FontSize="13" Margin="0,0,0,8"/>
                                            <ComboBox SelectedValue="{Binding MaxHistoryItems}" SelectedValuePath="Tag" 
                                                      Style="{DynamicResource ModernComboBoxStyle}" Width="200" HorizontalAlignment="Left">
                                                <ComboBoxItem Content="50条" Tag="50"/>
                                                <ComboBoxItem Content="100条" Tag="100"/>
                                                <ComboBoxItem Content="200条" Tag="200"/>
                                                <ComboBoxItem Content="500条" Tag="500"/>
                                                <ComboBoxItem Content="1000条" Tag="1000"/>
                                                <ComboBoxItem Content="9999条" Tag="9999"/>
                                                <ComboBoxItem Content="无限制" Tag="-1"/>
                                            </ComboBox>
                                            <TextBlock Text="超出数量限制时自动删除最早的记录" Foreground="{DynamicResource TertiaryTextForeground}" 
                                                       FontSize="11" Margin="0,4,0,0"/>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </StackPanel>

                        <!-- 存储设置 -->
                        <StackPanel x:Name="PanelStorage" Visibility="Collapsed">
                            <TextBlock Text="存储与备份" FontSize="24" FontWeight="SemiBold" 
                                       Foreground="{DynamicResource TextForeground}" Margin="0,0,0,20"/>
                            
                            <Border Style="{DynamicResource SettingCardStyle}" Margin="0,0,0,16">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                        <TextBlock Text="&#xE8B7;" FontFamily="Segoe MDL2 Assets" FontSize="18" 
                                                   Foreground="{DynamicResource AccentColor}" Margin="0,0,10,0"/>
                                        <TextBlock Text="数据存储位置" FontSize="16" FontWeight="SemiBold" 
                                                   Foreground="{DynamicResource TextForeground}"/>
                                    </StackPanel>
                                    
                                    <TextBlock Text="数据库路径" Foreground="{DynamicResource SecondaryTextForeground}" 
                                               FontSize="13" Margin="0,0,0,8"/>
                                    <Grid Margin="0,0,0,12">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Border Grid.Column="0" Background="{DynamicResource InputBackground}" 
                                                BorderBrush="{DynamicResource InputBorderBrush}" BorderThickness="1"
                                                CornerRadius="6" Padding="12,10">
                                            <TextBlock Text="{Binding DatabasePath}" 
                                                       Foreground="{DynamicResource TextForeground}"
                                                       FontSize="13" TextTrimming="CharacterEllipsis"/>
                                        </Border>
                                        <Button Grid.Column="1" Content="浏览" 
                                                Style="{DynamicResource SecondaryButtonStyle}"
                                                Margin="8,0,0,0" Padding="16,10"
                                                Click="BrowseDatabasePath_Click"/>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <Border Style="{DynamicResource SettingCardStyle}">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                        <TextBlock Text="&#xE7EF;" FontFamily="Segoe MDL2 Assets" FontSize="18" 
                                                   Foreground="{DynamicResource AccentColor}" Margin="0,0,10,0"/>
                                        <TextBlock Text="数据管理" FontSize="16" FontWeight="SemiBold" 
                                                   Foreground="{DynamicResource TextForeground}"/>
                                    </StackPanel>
                                    
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Button Grid.Column="0" Content="备份数据库" 
                                                Style="{DynamicResource ActionButtonStyle}"
                                                Margin="0,0,8,0" Padding="16,12"
                                                Click="BackupDatabase_Click"/>
                                        <Button Grid.Column="1" Content="导出文本" 
                                                Style="{DynamicResource ActionButtonStyle}"
                                                Margin="4,0,4,0" Padding="16,12"
                                                Click="ExportData_Click"/>
                                        <Button Grid.Column="2" Content="导入文本" 
                                                Style="{DynamicResource ActionButtonStyle}"
                                                Margin="8,0,0,0" Padding="16,12"
                                                Click="ImportData_Click"/>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </StackPanel>

                        <!-- 搜索引擎设置 -->
                        <StackPanel x:Name="PanelSearch" Visibility="Collapsed">
                            <TextBlock Text="搜索引擎" FontSize="24" FontWeight="SemiBold" 
                                       Foreground="{DynamicResource TextForeground}" Margin="0,0,0,20"/>
                            
                            <Border Style="{DynamicResource SettingCardStyle}">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                        <TextBlock Text="&#xE721;" FontFamily="Segoe MDL2 Assets" FontSize="18" 
                                                   Foreground="{DynamicResource AccentColor}" Margin="0,0,10,0"/>
                                        <TextBlock Text="默认搜索引擎" FontSize="16" FontWeight="SemiBold" 
                                                   Foreground="{DynamicResource TextForeground}"/>
                                    </StackPanel>
                                    
                                    <TextBlock Text="选择搜索引擎" Foreground="{DynamicResource SecondaryTextForeground}" 
                                               FontSize="13" Margin="0,0,0,8"/>
                                    <ComboBox x:Name="SearchEngineComboBox" 
                                              SelectedValue="{Binding SelectedSearchEngineId}"
                                              SelectedValuePath="Tag"
                                              Style="{DynamicResource ModernComboBoxStyle}"
                                              HorizontalAlignment="Left" Width="280"
                                              SelectionChanged="SearchEngineComboBox_SelectionChanged">
                                        <ComboBoxItem Content="Bing 中国" Tag="bingCN"/>
                                        <ComboBoxItem Content="Bing 国际" Tag="bing"/>
                                        <ComboBoxItem Content="百度" Tag="baidu"/>
                                        <ComboBoxItem Content="DuckDuckGo" Tag="duckduckgo"/>
                                        <ComboBoxItem Content="Google" Tag="google"/>
                                        <ComboBoxItem Content="360搜索" Tag="so"/>
                                        <ComboBoxItem Content="自定义" Tag="custom"/>
                                    </ComboBox>
                                    
                                    <Grid x:Name="CustomSearchEngineGrid" Visibility="Collapsed" Margin="0,16,0,0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <TextBlock Grid.Row="0" Text="自定义搜索 URL" Foreground="{DynamicResource SecondaryTextForeground}" 
                                                   FontSize="13" Margin="0,0,0,8"/>
                                        <Border Grid.Row="1" Background="{DynamicResource InputBackground}" 
                                                BorderBrush="{DynamicResource InputBorderBrush}" BorderThickness="1"
                                                CornerRadius="6" Padding="12,10">
                                            <TextBox Text="{Binding CustomSearchEngineUrl}" 
                                                     Background="Transparent"
                                                     BorderThickness="0"
                                                     Foreground="{DynamicResource TextForeground}"
                                                     FontSize="13"
                                                     ToolTip="使用 %s 表示搜索关键词，如: https://www.google.com/search?q=%s"/>
                                        </Border>
                                        <TextBlock Grid.Row="1" Text="%s = 搜索关键词" Foreground="{DynamicResource TertiaryTextForeground}" 
                                                   FontSize="11" HorizontalAlignment="Right" Margin="0,0,12,0"/>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </StackPanel>

                        <!-- 系统设置 -->
                        <StackPanel x:Name="PanelSystem" Visibility="Collapsed">
                            <TextBlock Text="系统设置" FontSize="24" FontWeight="SemiBold" 
                                       Foreground="{DynamicResource TextForeground}" Margin="0,0,0,20"/>
                            
                            <Border Style="{DynamicResource SettingCardStyle}">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                        <TextBlock Text="&#xE7E8;" FontFamily="Segoe MDL2 Assets" FontSize="18" 
                                                   Foreground="{DynamicResource AccentColor}" Margin="0,0,10,0"/>
                                        <TextBlock Text="系统选项" FontSize="16" FontWeight="SemiBold" 
                                                   Foreground="{DynamicResource TextForeground}"/>
                                    </StackPanel>
                                    
                                    <CheckBox x:Name="StartWithWindowsCheckBox" Content="开机自动启动"
                                              Style="{DynamicResource ModernCheckBoxStyle}" Margin="0,0,0,12"/>
                                    <TextBlock Text="系统启动时自动运行 WinVClip" Foreground="{DynamicResource SecondaryTextForeground}" 
                                               FontSize="12" Margin="28,-8,0,16"/>
                                    
                                    <CheckBox Content="启用剪贴板监控" IsChecked="{Binding MonitorEnabled}" 
                                              Style="{DynamicResource ModernCheckBoxStyle}" Margin="0,0,0,12"/>
                                    <TextBlock Text="监听并记录剪贴板内容变化" Foreground="{DynamicResource SecondaryTextForeground}" 
                                               FontSize="12" Margin="28,-8,0,0"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </Grid>

            <!-- 底部按钮栏 -->
            <Border Grid.Row="2" Background="{DynamicResource FooterBackground}" 
                    BorderBrush="{DynamicResource BorderBrush}" BorderThickness="0,1,0,0"
                    CornerRadius="0,0,8,8" Padding="20,16">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="重置" Width="90" Height="36" 
                            Style="{DynamicResource SecondaryButtonStyle}"
                            Click="ResetButton_Click"/>
                    <Button Content="应用" Width="90" Height="36" Margin="12,0,0,0"
                            Style="{DynamicResource SecondaryButtonStyle}"
                            Click="ApplyButton_Click"/>
                    <Button Content="确定" Width="90" Height="36" Margin="12,0,0,0"
                            Style="{DynamicResource PrimaryButtonStyle}"
                            Click="OKButton_Click"/>
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>
